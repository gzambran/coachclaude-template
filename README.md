# Coach Claude

A Claude Code-powered running coach that uses your Strava data to provide personalized training guidance.

## What It Does

- Pulls your recent activities from Strava automatically
- Generates weekly training plans with day-by-day workouts
- Tracks planned vs. actual training volume
- Deploys a visual weekly plan page you can view from your phone
- Adjusts the plan based on how your body is responding

## Setup

### 1. Clone this repo

```bash
git clone https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git
cd YOUR_REPO_NAME
```

### 2. Install dependencies

```bash
pip install -r requirements.txt
```

### 3. Set up Strava API access

1. Go to https://www.strava.com/settings/api and create an application
2. Note your **Client ID** and **Client Secret**
3. Authorize the app to get a **Refresh Token** — follow the [Strava OAuth guide](https://developers.strava.com/docs/getting-started/#oauth)
4. Create a `.env` file from the example:

```bash
cp .env.example .env
```

5. Fill in your credentials in `.env`

### 4. Customize for your training

Edit these files with your details:

- **`CLAUDE.md`** — Your athlete profile, goals, paces, and any special coaching rules
- **`status.md`** — Your current fitness state, injuries, and goals
- **`data/plan.md`** — Your training plan with phases and weekly targets

### 5. Test the Strava connection

```bash
python scripts/fetch_strava.py
```

You should see "Fetched X new activities. Current week file updated."

### 6. Start coaching

```bash
claude
```

Claude will read your data and start coaching. It leads with what's on the plan and asks how you're feeling.

### 7. Deploy weekly plans (optional)

To view your weekly plan from your phone:

1. Create a Vercel account at https://vercel.com
2. Import this repo
3. Set **Root Directory** to `site` in project settings
4. Update the PIN in `site/config.js` (default is `0000`)
5. Push to deploy

## Project Structure

```
├── CLAUDE.md              # Coaching instructions and athlete profile
├── status.md              # Current fitness state (Claude reads + updates)
├── data/
│   ├── plan.md            # Training plan with phases and targets
│   ├── current_week.md    # Auto-generated by fetch script
│   └── weekly/            # Weekly summaries (markdown)
├── scripts/
│   └── fetch_strava.py    # Incremental Strava fetcher with cache
├── site/                  # Vercel-deployed web pages
│   ├── index.html         # PIN gate + week listing
│   ├── config.js          # Shared PIN config (change PIN here)
│   ├── nav.js             # Shared navigation + today highlighting
│   ├── weeks.json         # Week manifest
│   └── weekly/            # Weekly plan HTML files
│       └── EXAMPLE.html   # Structural reference for Claude
├── vercel.json            # Vercel configuration
└── .env                   # Strava API credentials (not committed)
```

## How It Works

Each session, Claude:
1. Runs `fetch_strava.py` to grab new activities (incremental — only fetches what's new)
2. Reads your training plan, current week data, and recent history
3. Tells you what's on the plan today and asks how you're feeling
4. Adjusts if needed based on your feedback

Weekly HTML plans are generated at the start of each week and can be deployed to Vercel for mobile viewing.
